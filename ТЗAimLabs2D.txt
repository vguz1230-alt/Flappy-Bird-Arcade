1. Общие сведения
Название проекта: AimLabs2D
Тип проекта: десктопная игра‑тренажёр на Python с графическим интерфейсом
Целевая платформа: Windows, Linux, macOS
Основной стек: Python 3.x, PyQt6, SQLite3
Цель: разработка тренажёра для тренировки точности и скорости реакции (наведение на цель).

2. Назначение и цели продукта
Основная функция:

Тренировка меткости и скорости реакции через наведение на движущиеся/случайные цели.

Задачи:

Предоставить пользователю настраиваемые параметры игры (размер цели, цвет, количество для победы).

Вести статистику игровых сессий (счёт, время, точность).

Сохранять данные игроков и историю игр в локальную БД.

Обеспечить интуитивно понятный интерфейс с главным меню и экраном игры.

3. Функциональные требования
3.1. Главный экран (меню)

Отображение имени игрока (из настроек).

Кнопки: «Играть», «Настройки», «Выход».

Стилизованное оформление (цвета, отступы, шрифты).

3.2. Экран игры

Генерация цели случайного положения на экране.

Подсчёт попаданий и отображение прогресса (индикатор выполнения).

Таймер с отсчётом времени игры.

Обработка кликов мыши:

Попадание в цель → увеличение счёта.

Промах → игнорирование.

Условие победы: достижение заданного количества попаданий.

Выход в меню по клавише Esc или после победы.

3.3. Настройки

Форма ввода:

Имя игрока.

Размер цели (10–200 px).

Цвет цели (выбор через диалоговое окно).

Количество целей для победы (1–100).

Сохранение настроек в файл settingsAL1.txt.

Применение настроек без перезапуска игры.

3.4. Работа с БД (SQLite)

Создание таблиц:

players (id, username).

game_sessions (id, player_id, target_count, colors, duration, timestamp).

Операции:

Добавление игрока (уникальное имя).

Сохранение сессии игры (количество попаданий, время, цвет цели).

Получение статистики игрока.

Формирование таблицы лидеров (средний время, количество игр).

3.5. Логирование

Запись событий в файл app.log и консоль.

Уровни: INFO, WARNING, ERROR, CRITICAL.

Фиксирование: запуск, ошибки БД, действия пользователя, сохранение данных.

4. Нефункциональные требования
4.1. Производительность

Время отклика интерфейса: < 100 мс.

Загрузка экрана игры: < 2 с.

4.2. Надёжность

Восстановление после ошибок БД (например, недоступность файла).

Сохранение настроек при аварийном завершении.

4.3. Совместимость

Python 3.8+.

PyQt6 (версия ≥ 6.0.0).

SQLite3 (встроенная в Python).

4.4. Безопасность

Локальное хранение данных (без сетевого взаимодействия).

Проверка ввода (например, длины имени игрока).

4.5. Интерфейс

Разрешение: от 1280×720 px.

Цветовая схема: тёмный фон, контрастные элементы.

Шрифты: читаемые, размер ≥ 14 pt для основного текста.

5. Структура проекта
/AimLabs2D/
├── main.py                     # Точка входа
├── app_controller.py        # Контроллер приложения
├── mainmenu.py              # Главное меню
├── gamescreen.py             # Экран игры
├── settings_dialog.py        # Диалог настроек
├── settings.py               # Класс настроек
├── _database_.py             # Работа с БД
├── settingsAL1.txt           # Файл настроек
├── AimLabsGameData            # Файл БД (SQLite)
├── app.log                   # Лог приложения
├── assets/                   # Ресурсы (иконки, изображения)
│   └── app_icon.ico         # Иконка приложения
└── requirements.txt          # Зависимости
6. Требования к сборке и дистрибуции
Упаковка в исполняемый файл (.exe, .app, .deb и т. п.) с помощью PyInstaller, cx_Freeze или Nuitka.

Включение иконки приложения (.ico).

Однофайловая сборка (все зависимости в одном EXE/APP).

Поддержка Windows, Linux, macOS.

7. Тестирование
7.1. Юнит‑тесты

Проверка загрузки/сохранения настроек.

Валидация операций с БД (добавление игрока, сохранение сессии).

Обработка крайних значений (например, размер цели = 10 px).

7.2. Сценарные тесты

Запуск игры → прохождение → сохранение статистики.

Изменение настроек → применение → проверка отображения.

Попытка сохранения при недоступной БД → лог ошибки.

7.3. Кросс‑платформенное тестирование

Проверка работы на Windows 10/11, Ubuntu 22.04, macOS Sonoma.

8. Документация

Комментарии в коде: описание классов, методов, ключевых блоков.

Логи (app.log) с временной меткой и уровнем важности.



9. Критерии приёмки
Приложение запускается без ошибок на целевой платформе.

Все кнопки меню работают (переход, сохранение).

Настройки сохраняются в файл и применяются в игре.

Данные игр записываются в БД и отображаются в статистике.

Иконка приложения видна в проводнике.

Логи содержат информацию о ключевых событиях.



